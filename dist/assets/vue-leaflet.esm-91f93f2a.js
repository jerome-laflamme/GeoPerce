import{_ as h}from"./preload-helper-4d3ce095.js";import{r as le}from"./runtime-dom.esm-bundler-ca6b0058.js";import{E as b,J as se,U as _,a2 as S,G as N,Q as A,a3 as $,S as F,h as w,N as m,I as J,a4 as X}from"./_plugin-vue_export-helper-889530a6.js";const Y=(o,n=100)=>{let e;const t=function(...l){const r=this;e&&clearTimeout(e),e=setTimeout(()=>{o.apply(r,l),e=null},n)};return t.cancel=function(){e&&clearTimeout(e)},t},x=function(o){for(const n of Object.values(o))n&&C(n.cancel)&&n.cancel()},ie=o=>!o||typeof o.charAt!="function"?o:o.charAt(0).toUpperCase()+o.slice(1),C=o=>typeof o=="function",j=(o,n,e)=>{for(const t in e){const l="set"+ie(t);o[l]?J(()=>e[t],(r,i)=>{o[l](r,i)}):n[l]&&J(()=>e[t],r=>{n[l](r)})}},D=(o,n,e={})=>{const t={...e};for(const l in o){const r=n[l],i=o[l];r&&(r&&r.custom===!0||i!==void 0&&(t[l]=i))}return t},I=o=>{const n={};for(const e in o)if(e.startsWith("on")&&!e.startsWith("onUpdate")&&e!=="onReady"){const t=e.slice(2).toLocaleLowerCase();n[t]=o[e]}return n},ue=async o=>{const n=await Promise.all([h(()=>import("./marker-icon-2x-e148f0f7.js"),[]),h(()=>import("./marker-icon-d6994ad0.js"),[]),h(()=>import("./marker-shadow-a7f70f89.js"),[])]);delete o.Default.prototype._getIconUrl,o.Default.mergeOptions({iconRetinaUrl:n[0].default,iconUrl:n[1].default,shadowUrl:n[2].default})},k=o=>{const n=b(()=>console.warn(`Method ${o} has been invoked without being replaced`)),e=(...t)=>n.value(...t);return e.wrapped=n,_(o,e),e},G=(o,n)=>o.wrapped.value=n,O=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,E="useGlobalLeaflet",z={options:{type:Object,default:()=>({}),custom:!0}},q=o=>({options:o.options,methods:{}}),M={...z,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},ee=(o,n,e)=>{const t=m("addLayer"),l=m("removeLayer"),{options:r,methods:i}=q(o),u=D(o,M,r),d=()=>t({leafletObject:n.value}),s=()=>l({leafletObject:n.value}),p={...i,setAttribution(c){s(),n.value.options.attribution=c,o.visible&&d()},setName(){s(),o.visible&&d()},setLayerType(){s(),o.visible&&d()},setVisible(c){n.value&&(c?d():s())},bindPopup({leafletObject:c}){if(!n.value||!C(n.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}n.value.bindPopup(c)},bindTooltip({leafletObject:c}){if(!n.value||!C(n.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}n.value.bindTooltip(c)},unbindTooltip(){n.value&&(C(n.value.closeTooltip)&&n.value.closeTooltip(),C(n.value.unbindTooltip)&&n.value.unbindTooltip())},unbindPopup(){n.value&&(C(n.value.closePopup)&&n.value.closePopup(),C(n.value.unbindPopup)&&n.value.unbindPopup())},updateVisibleProp(c){e.emit("update:visible",c)}};return _("bindPopup",p.bindPopup),_("bindTooltip",p.bindTooltip),_("unbindTooltip",p.unbindTooltip),_("unbindPopup",p.unbindPopup),X(()=>{p.unbindPopup(),p.unbindTooltip(),s()}),{options:u,methods:p}},de=(o,n)=>{if(o&&n.default)return w("div",{style:{display:"none"}},n.default())},ce={...M,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},pe={...ce,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}};({...M});const Z={...M,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:Number},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number}},te=(o,n,e)=>{const{options:t,methods:l}=ee(o,n,e);return{options:D(o,Z,t),methods:{...l}}};({...Z});const K={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};var fe={name:"LIcon",props:{...K,...z},setup(o,n){const e=b(null),t=m(E),l=m("canSetParentHtml"),r=m("setParentHtml"),i=m("setIcon");let u,d,s,p,c;const T=(v,B,H)=>{const R=v&&v.innerHTML;if(!B){H&&c&&l()&&r(R);return}const P=I(n.attrs);c&&d(c,P);const{options:V}=q(o),a=D(o,K,V);R&&(a.html=R),c=a.html?s(a):p(a),u(c,P),i(c)},f=()=>{A(()=>T(e.value,!0,!1))},L=()=>{A(()=>T(e.value,!1,!0))},g={setIconUrl:f,setIconRetinaUrl:f,setIconSize:f,setIconAnchor:f,setPopupAnchor:f,setTooltipAnchor:f,setShadowUrl:f,setShadowRetinaUrl:f,setShadowAnchor:f,setBgPos:f,setClassName:f,setHtml:f};return S(async()=>{const{DomEvent:v,divIcon:B,icon:H}=t?O.L:await h(()=>import("./leaflet-src.esm-457c3857.js"),[]);u=v.on,d=v.off,s=B,p=H,j(g,{},o),new MutationObserver(L).observe(e.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),f()}),{root:e}},render(){const o=this.$slots.default?this.$slots.default():void 0;return w("div",{ref:"root"},o)}};fe.__file="src/components/LIcon.vue";({...M});const Q={...z,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:Array},paddingTopLeft:{type:Array},padding:{type:Array},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:void 0}};var ye={emits:["ready","update:zoom","update:center","update:bounds"],props:Q,setup(o,n){const e=b(null),t=se({ready:!1,leafletRef:{},layersToAdd:[],layersInControl:[]}),{options:l}=q(o),r=D(o,Q,l),i=k("addLayer"),u=k("removeLayer"),d=k("registerControl"),s=k("registerLayerControl");_(E,o.useGlobalLeaflet);const p={moveEndHandler:Y(()=>{n.emit("update:zoom",t.leafletRef.getZoom()),n.emit("update:center",t.leafletRef.getCenter()),n.emit("update:bounds",t.leafletRef.getBounds())}),overlayAddHandler(f){const L=t.layersInControl.find(g=>g.name===f.name);L&&L.updateVisibleProp(!0)},overlayRemoveHandler(f){const L=t.layersInControl.find(g=>g.name===f.name);L&&L.updateVisibleProp(!1)}};S(async()=>{o.useGlobalLeaflet&&(O.L=O.L||await h(()=>import("./leaflet-src-a1f00874.js").then(a=>a.l),[]));const{map:f,CRS:L,Icon:g,latLngBounds:v,latLng:B,DomEvent:H}=o.useGlobalLeaflet?O.L:await h(()=>import("./leaflet-src.esm-457c3857.js"),[]);try{r.beforeMapMount&&await r.beforeMapMount()}catch(a){console.error(`The following error occurred running the provided beforeMapMount hook ${a.message}`)}await ue(g);const R=typeof r.crs=="string"?L[r.crs]:r.crs;r.crs=R||L.EPSG3857;const P={addLayer(a){a.layerType!==void 0&&(t.layerControl===void 0?t.layersToAdd.push(a):t.layersInControl.find(U=>U.leafletObject._leaflet_id===a.leafletObject._leaflet_id)||(t.layerControl.addLayer(a),t.layersInControl.push(a))),a.visible!==!1&&t.leafletRef.addLayer(a.leafletObject)},removeLayer(a){a.layerType!==void 0&&(t.layerControl===void 0?t.layersToAdd=t.layersToAdd.filter(y=>y.name!==a.name):(t.layerControl.removeLayer(a.leafletObject),t.layersInControl=t.layersInControl.filter(y=>y.leafletObject._leaflet_id!==a.leafletObject._leaflet_id))),t.leafletRef.removeLayer(a.leafletObject)},registerLayerControl(a){t.layerControl=a,t.layersToAdd.forEach(y=>{t.layerControl.addLayer(y)}),t.layersToAdd=[],d(a)},registerControl(a){t.leafletRef.addControl(a.leafletObject)},setZoom(a){const y=t.leafletRef.getZoom();a!==y&&t.leafletRef.setZoom(a,{animate:o.noBlockingAnimations?!1:null})},setPaddingBottomRight(a){t.paddingBottomRight=a},setPaddingTopLeft(a){t.paddingTopLeft=a},setPadding(a){t.padding=a},setCrs(a){const y=t.leafletRef.getBounds();t.leafletRef.options.crs=a,t.leafletRef.fitBounds(y,{animate:!1,padding:[0,0]})},fitBounds(a){t.leafletRef.fitBounds(a,{animate:this.noBlockingAnimations?!1:null})},setBounds(a){if(!a)return;const y=v(a);if(!y.isValid())return;!(t.lastSetBounds||t.leafletRef.getBounds()).equals(y,0)&&(t.lastSetBounds=y,t.leafletRef.fitBounds(y,this.fitBoundsOptions))},setCenter(a){if(a==null)return;const y=B(a),U=t.lastSetCenter||t.leafletRef.getCenter();(U.lat!==y.lat||U.lng!==y.lng)&&(t.lastSetCenter=y,t.leafletRef.panTo(y,{animate:this.noBlockingAnimations?!1:null}))}};G(i,P.addLayer),G(u,P.removeLayer),G(d,P.registerControl),G(s,P.registerLayerControl),t.leafletRef=N(f(e.value,r)),j(P,t.leafletRef,o);const V=I(n.attrs);t.leafletRef.on("moveend",p.moveEndHandler),t.leafletRef.on("overlayadd",p.overlayAddHandler),t.leafletRef.on("overlayremove",p.overlayRemoveHandler),H.on(t.leafletRef,V),t.ready=!0,A(()=>n.emit("ready",t.leafletRef))}),$(()=>{x(p),t.leafletRef&&(t.leafletRef.off(),t.leafletRef.remove())});const c=F(()=>t.leafletRef),T=F(()=>t.ready);return{root:e,ready:T,leafletObject:c}},render(){return w("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}};ye.__file="src/components/LMap.vue";const oe={...M,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},me=(o,n,e)=>{const{options:t,methods:l}=ee(o,n,e),r=D(o,oe,t),i={...l,setDraggable(u){n.value.dragging&&(u?n.value.dragging.enable():n.value.dragging.disable())},latLngSync(u){e.emit("update:latLng",u.latlng),e.emit("update:lat-lng",u.latlng)},setLatLng(u){if(u!=null&&n.value){const d=n.value.getLatLng();(!d||!d.equals(u))&&n.value.setLatLng(u)}}};return{options:r,methods:i}},ve=(o,n)=>{const e=n.slots.default&&n.slots.default();return!!(e&&e.some(t=>!["LTooltip","LPopup"].includes(t.type.name)))};var be={name:"LMarker",props:oe,setup(o,n){const e=b({}),t=b(!1),l=m(E),r=m("addLayer");_("canSetParentHtml",()=>!!e.value.getElement()),_("setParentHtml",s=>e.value.getElement().innerHTML=s),_("setIcon",s=>e.value.setIcon&&e.value.setIcon(s));const{options:i,methods:u}=me(o,e,n),d={moveHandler:Y(u.latLngSync)};return S(async()=>{const{marker:s,DomEvent:p,divIcon:c}=l?O.L:await h(()=>import("./leaflet-src.esm-457c3857.js"),[]);ve(i,n)&&(i.icon=c({className:""})),e.value=N(s(o.latLng,i));const T=I(n.attrs);p.on(e.value,T),e.value.on("move",d.moveHandler),j(u,e.value,o),r({...o,...u,leafletObject:e.value}),t.value=!0,A(()=>n.emit("ready",e.value))}),$(()=>x(d)),{ready:t,leafletObject:e}},render(){return de(this.ready,this.$slots)}};be.__file="src/components/LMarker.vue";const Le={...pe,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},ge={...Le},ne={...z,content:{type:String,default:null}},ae=(o,n)=>{const{options:e,methods:t}=q(o),l={...t,setContent(r){n.value&&r!==null&&r!==void 0&&n.value.setContent(r)}};return{options:e,methods:l}},re=o=>o.default?w("div",{ref:"root"},o.default()):null,he={...ne,latLng:{type:[Object,Array],default:()=>[]}},_e=(o,n)=>{const{options:e,methods:t}=ae(o,n);return{options:e,methods:t}};var Oe={name:"LPopup",props:he,setup(o,n){const e=b({}),t=b(null),l=m(E),r=m("bindPopup"),i=m("unbindPopup"),{options:u,methods:d}=_e(o,e);return S(async()=>{const{popup:s,DomEvent:p}=l?O.L:await h(()=>import("./leaflet-src.esm-457c3857.js"),[]);e.value=N(s(u)),o.latLng!==void 0&&e.value.setLatLng(o.latLng),j(d,e.value,o);const c=I(n.attrs);p.on(e.value,c),e.value.setContent(o.content||t.value),r({leafletObject:e.value}),A(()=>n.emit("ready",e.value))}),$(()=>{i({leafletObject:e.value})}),{root:t,leafletObject:e}},render(){return re(this.$slots)}};Oe.__file="src/components/LPopup.vue";ge.latLngs.required=!1;const W={...Z,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:o=>typeof o=="string"?!0:Array.isArray(o)?o.every(n=>typeof n=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},Te=(o,n,e)=>{const{options:t,methods:l}=te(o,n,e),r=D(o,W,t),i={...l};return{options:r,methods:i}};var Pe={props:W,setup(o,n){const e=b({}),t=m(E),l=m("addLayer"),{options:r,methods:i}=Te(o,e,n);return S(async()=>{const{tileLayer:u,DomEvent:d}=t?O.L:await h(()=>import("./leaflet-src.esm-457c3857.js"),[]);e.value=N(u(o.url,r));const s=I(n.attrs);d.on(e.value,s),j(i,e.value,o),l({...o,...i,leafletObject:e.value}),A(()=>n.emit("ready",e.value))}),{leafletObject:e}},render(){return null}};Pe.__file="src/components/LTileLayer.vue";const Ae={...ne},Be=(o,n)=>{const{options:e,methods:t}=ae(o,n),l=m("unbindTooltip");return $(()=>{l()}),{options:e,methods:t}};var Ce={name:"LTooltip",props:Ae,setup(o,n){const e=b({}),t=b(null),l=m(E),r=m("bindTooltip"),{options:i,methods:u}=Be(o,e);return S(async()=>{const{tooltip:d,DomEvent:s}=l?O.L:await h(()=>import("./leaflet-src.esm-457c3857.js"),[]);e.value=N(d(i)),j(u,e.value,o);const p=I(n.attrs);s.on(e.value,p),e.value.setContent(o.content||t.value),r({leafletObject:e.value}),A(()=>n.emit("ready",e.value))}),{root:t,leafletObject:e}},render(){return re(this.$slots)}};Ce.__file="src/components/LTooltip.vue";({...W});export{Oe as a,be as b,Pe as c,ye as d,Ce as e,fe as s};
